
{% extends 'header.html' %}
{% load static %}
{% block content %}

<style type="text/css">

	img {
		max-width: 100%;
		max-height: 100%;
		min-width: 100%;
		min-height: 100%;
	}

	td {text-align: center; }
	th {text-align: center;}

	.last_cell {
		border-right: 1px solid black;
	}

</style>
<div class = "container">
	<div class = "row">
		<div class="container-fluid px-0">
			<div class="row">
				<div class="col">
			  		<img src="{% static 'rca_pollo_granjero.png' %}" alt="placeholder 960" class="img-responsive img-thumbnail" />
				</div>
				<div class="col">
			  		<img src="{% static 'flag_guatemala.png' %}" alt="placeholder 960" class="img-responsive img-thumbnail" />
				</div>
				<div class = "col justify-content-center align-self-center">
					<form method = "post">
						 {% csrf_token %}
						{{form.as_p}}
						<input  class="btn btn-primary" type = "Submit"/> 
					</form>
				</div>
			</div>
		</div>

	</div>
</div>

{% if POST_REQ %}

<div class = "container">
	<div class = "row justify-content-center" style = "text-align: center; align-items: center;">
		<h4 class="text-center">PDV : {{pos_cd}} <br> Fecha : {{fct_dt}} </h4>
	</div>
	<div class = "row">
		<div class = "col-sm" align = "center" style = "background-color: #D72F15; color: white;"><h5>Pronósticos para los siguientes 4 días</h5></div>
	</div>
	<div class = "row">
		<table class="table table-striped">
			<thead>
				<col>
				<colgroup span = "2"></colgroup>
				<colgroup span = "2"></colgroup>
				<tr>
					<th rowspan = "2" class = "last_cell"></th>
					<th colspan = "3" scope = "colgroup" align = "center" class = "last_cell">Pollo</th>
					<th colspan = "3" scope = "colgroup" align = "center" class = "last_cell">Papas</th>
					<th colspan = "2" scope = "colgroup" align = "center" class = "last_cell">Ensalada</th>
					<th colspan = "2" scope = "colgroup" align = "center" class = "last_cell">Pastelitos</th>
				</tr>
				<tr>	
					<th scope = "col">Piezas</th>
					<th scope = "col">Bandejas</th>
					<th scope = "col" class = "last_cell">Tambos</th>
					<th scope = "col">Porciones</th>
					<th scope = "col">Bolsas</th>

					<th scope = "col" class = "last_cell">Cajas</th>
					<th scope = "col">Porciones</th>
					<th scope = "col" class = "last_cell">Cajas</th>
					<th scope = "col">Porciones</th>
					<th scope = "col" class = "last_cell">Cajas</th>															
				</tr>
			</thead>
			<tbody>
				{% for row in frcst_table_body %}
					<tr>	
					{% for val in row %}
						{% if forloop.first %}
							<th scope = "row" class = "last_cell" style="text-align: left;">{{val}}</th>
						{% else %}
							{% if forloop.counter0 == 3 or forloop.counter0 == 6 or forloop.counter0 == 8 or forloop.counter0 == 10  %}
								{% if forloop.parentloop.last %}
									<th class = "last_cell" style="border-top: 1px solid black;">{{val}}</th>
								{% else %}
									<td class = "last_cell">{{val}}</td>
								{% endif %}
							{% else %}
								{% if forloop.parentloop.last %}
									<th style="border-top: 1px solid black;">{{val}}</th>
								{% else %}
									<td>{{val}}</td>
								{% endif %}
							{% endif %}
						{% endif %}
					{% endfor %}
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	<div class = "row">
		<div class = "col-sm" align = "center" style = "background-color: #D72F15; color: white;"><h5>Histórico (Porciones diarias)</h5></div>
	</div>
	<div class = "row">
		<table class="table table-striped table_fixed">
			<thead>
				<col>
				<colgroup span = "3"></colgroup>
				<colgroup span = "3"></colgroup>
				<tr>
					<th rowspan = "2" class = "last_cell"></th>
					{% for val in frcst_table_header %}
						{% if forloop.first %}
							<th colspan = "3" scopen = "colgroup" class = "last_cell">{{val}}<br> <sub>Piezas(Bandejas)</sub> </th>
						{% else %}
							<th colspan = "3" scopen = "colgroup" class = "last_cell">{{val}}</th>
						{% endif %}
					{% endfor %}
				</tr>
				<tr>
					{% for val in frcst_table_header %}
						<th scope = "col">Quants</th>
						<th scope = "col">Real</th>
						<th scope = "col" class = "last_cell">Error</th>
					{% endfor %}
				</tr>				
			</thead>
			<tbody>
				{% for row in hst_table_body %}
					<tr>	
					{% for val in row %}
						{% if forloop.first %}
							<th scope = "row" class = "last_cell" style="text-align: left;">{{val}}</th>
						{% else %}
							{% if forloop.counter0|divisibleby:3 %}
								<td class = "last_cell">{{val}}</td>
							{% else %}
								<td>{{val}}</td>
							{% endif %}	
						{% endif %}
					{% endfor %}
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>

{% endif %}

{% endblock %}
